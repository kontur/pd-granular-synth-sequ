#N canvas 200 342 1126 770 10;
#X obj 101 124 tgl 25 0 empty empty LoopOn/Off 0 35 0 10 -203904 -1
-1 0 1;
#X obj 285 432 r duration;
#X floatatom 285 460 25 0 0 0 - - -;
#X obj 111 432 r startSample;
#X floatatom 111 460 10 0 0 0 - - -;
#X floatatom 204 460 10 0 0 0 - - -;
#X obj 204 432 r endSample;
#X text 286 479 milliseconds;
#N canvas 689 378 723 486 synthsliders 0;
#X obj 73 260 *;
#X obj 103 100 hsl 195 15 0 1 0 0 empty empty start 5 8 0 10 -261682
-260097 -260097 7100 0;
#X obj 103 115 hsl 195 15 0 1 0 0 empty empty end 175 8 0 10 -261234
-258113 -258113 600 0;
#X obj 308 100 hsl 195 15 -2 2 0 0 empty empty grain_speed 5 8 0 10
-191407 -1 -1 15900 0;
#X obj 88 231 r samplesize;
#X floatatom 73 205 5 0 0 0 - - -;
#X floatatom 83 285 10 0 0 0 - - -;
#X floatatom 189 205 5 0 0 0 - - -;
#X obj 189 263 *;
#X floatatom 198 289 10 0 0 0 - - -;
#X obj 204 234 r samplesize;
#X floatatom 305 196 5 0 0 0 - - -;
#X obj 320 241 r endSample;
#X obj 401 241 r startSample;
#X obj 320 270 -;
#X obj 320 295 / 44.1;
#X obj 305 337 *;
#X obj 305 359 abs;
#X obj 189 312 s endSample;
#X obj 73 308 s startSample;
#X obj 305 381 s duration;
#X obj 519 259 expr size("sample");
#X obj 519 233 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 519 205 t b;
#X obj 519 315 s samplesize;
#X obj 209 15 loadbang;
#X obj 209 43 1;
#X obj 325 43 1;
#X obj 102 72 r startSampleSlider;
#X obj 61 44 r endSampleSlider;
#X obj 306 72 r durationSlider;
#X obj 428 390 s samples;
#X obj 428 334 *;
#X obj 519 287 abs;
#X obj 428 362 abs;
#X obj 585 147 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 585 119 r onSendToSample;
#X obj 278 420 s grainSpeed;
#X connect 0 0 6 0;
#X connect 0 0 19 0;
#X connect 1 0 5 0;
#X connect 1 0 23 0;
#X connect 2 0 7 0;
#X connect 2 0 23 0;
#X connect 3 0 11 0;
#X connect 3 0 23 0;
#X connect 4 0 0 1;
#X connect 5 0 0 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 0 18 0;
#X connect 10 0 8 1;
#X connect 11 0 16 0;
#X connect 11 0 32 0;
#X connect 11 0 37 0;
#X connect 12 0 14 0;
#X connect 13 0 14 1;
#X connect 14 0 15 0;
#X connect 14 0 32 1;
#X connect 15 0 16 1;
#X connect 16 0 17 0;
#X connect 17 0 20 0;
#X connect 21 0 33 0;
#X connect 22 0 21 0;
#X connect 22 0 32 0;
#X connect 22 0 14 0;
#X connect 23 0 22 0;
#X connect 25 0 26 0;
#X connect 25 0 27 0;
#X connect 26 0 2 0;
#X connect 27 0 3 0;
#X connect 28 0 1 0;
#X connect 29 0 2 0;
#X connect 30 0 3 0;
#X connect 32 0 34 0;
#X connect 33 0 24 0;
#X connect 34 0 31 0;
#X connect 35 0 3 0;
#X connect 35 0 1 0;
#X connect 35 0 2 0;
#X connect 36 0 35 0;
#X coords 0 -1 1 1 405 30 1 100 100;
#X restore 206 275 pd synthsliders;
#X floatatom 285 534 15 0 0 0 - - -;
#X obj 285 506 r samples;
#X obj 452 535 s readSamples;
#X obj 452 451 r endSample;
#X obj 545 433 r startSample;
#X obj 452 479 expr ($f1 - $f2);
#X obj 452 507 abs;
#X obj 524 456 t b;
#X msg 285 561 resize \$1;
#X obj 285 589 s grain;
#X text 121 408 a few helpers and slider value checks;
#N canvas 598 300 773 465 autoplay 0;
#X obj 298 351 throw~ left;
#X obj 383 351 throw~ right;
#X obj 298 254 vline~;
#X obj 298 198 pack f f f;
#X obj 298 71 r startSample;
#X obj 326 91 r endSample;
#X obj 355 130 r duration;
#X msg 298 224 \$1 10 \, \$2 \$3 10;
#X obj 334 112 t b;
#X obj 364 152 t b;
#X obj 255 135 r play;
#X obj 255 157 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 246 224 0 \, 10;
#X obj 246 198 r stop;
#X obj 345 254 s started;
#X obj 298 282 tabread4~ sample;
#X text 370 197 comment;
#X obj 40 50 inlet;
#X obj 93 106 metro;
#X obj 120 78 r duration;
#X obj 93 134 s play;
#X obj 40 78 t b;
#X obj 40 106 spigot;
#X obj 40 134 s stop;
#X text 41 16 @inlet checkbox toggle;
#X obj 465 92 r playSample;
#X obj 533 193 pack 0 f f;
#X floatatom 634 158 5 0 0 0 - - -;
#X obj 473 142 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 601 102 5 0 0 0 - - -;
#X obj 581 78 r samplesize;
#X obj 622 128 / 44.1;
#X connect 2 0 15 0;
#X connect 3 0 7 0;
#X connect 4 0 3 0;
#X connect 5 0 3 1;
#X connect 5 0 8 0;
#X connect 6 0 3 2;
#X connect 6 0 9 0;
#X connect 7 0 2 0;
#X connect 7 0 14 0;
#X connect 8 0 3 0;
#X connect 9 0 3 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X connect 12 0 2 0;
#X connect 13 0 12 0;
#X connect 15 0 0 0;
#X connect 15 0 1 0;
#X connect 17 0 21 0;
#X connect 17 0 18 0;
#X connect 18 0 20 0;
#X connect 19 0 18 1;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 25 0 28 0;
#X connect 26 0 7 0;
#X connect 28 0 26 0;
#X connect 30 0 26 1;
#X connect 30 0 29 0;
#X connect 30 0 31 0;
#X connect 31 0 27 0;
#X connect 31 0 26 2;
#X restore 101 372 pd autoplay;
#N canvas 590 44 789 759 grainresizing 0;
#X obj 223 162 r samples;
#X obj 299 259 /;
#X floatatom 307 189 15 0 0 0 - - -;
#X obj 243 218 t b 0;
#X obj 180 274 t b;
#X obj 180 302 f;
#X obj 213 302 + 1;
#X obj 180 163 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 479 166 r endSample;
#X obj 494 189 r startSample;
#X floatatom 234 332 15 0 0 0 - - -;
#X obj 479 246 -;
#X floatatom 488 274 15 0 0 0 - - -;
#X floatatom 410 367 15 0 0 0 - - -;
#X obj 388 333 /;
#X obj 195 443 r startSample;
#X obj 180 499 +;
#X obj 180 394 *;
#X floatatom 195 421 15 0 0 0 - - -;
#X floatatom 192 527 15 0 0 0 - - -;
#X obj 180 554 tabread4 sample;
#X obj 180 582 tabwrite grain;
#X obj 243 190 t b;
#X obj 512 217 t b;
#X obj 206 471 t b;
#X obj 180 246 for++ 0 44100 0;
#X text 60 36 run a for loop for the length of the new "grain" and
extract interpolated samples from the "sample";
#X text 291 220 reset for counter on band;
#X obj 479 301 abs;
#X text 479 140 calculate absolute length of sample data;
#X text 414 335 ratio of sample data to grain size / samples;
#X text 70 302 current for index;
#X text 215 388 multiply for index with sample / grain ratio to read
decimal index from "sample";
#X text 282 444 offset by startSample;
#X obj 403 277 r samples;
#X obj 388 305 t b;
#X text 59 161 manual test trigger;
#X text 60 75 triggered by "r samples" which detects any change in
grain sample size \, from changing either: start \, end \, samplespeed
;
#X connect 0 0 1 1;
#X connect 0 0 2 0;
#X connect 0 0 22 0;
#X connect 0 0 25 1;
#X connect 3 1 5 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 1 0;
#X connect 5 0 10 0;
#X connect 5 0 21 1;
#X connect 5 0 17 0;
#X connect 6 0 5 1;
#X connect 7 0 3 0;
#X connect 7 0 25 0;
#X connect 8 0 11 0;
#X connect 9 0 11 1;
#X connect 9 0 23 0;
#X connect 11 0 12 0;
#X connect 11 0 28 0;
#X connect 14 0 13 0;
#X connect 14 0 17 1;
#X connect 15 0 16 1;
#X connect 15 0 24 0;
#X connect 16 0 19 0;
#X connect 16 0 20 0;
#X connect 17 0 18 0;
#X connect 17 0 16 0;
#X connect 20 0 21 0;
#X connect 22 0 3 0;
#X connect 22 0 25 0;
#X connect 23 0 11 0;
#X connect 24 0 16 0;
#X connect 25 0 4 0;
#X connect 28 0 14 0;
#X connect 34 0 14 1;
#X connect 34 0 35 0;
#X connect 35 0 14 0;
#X coords 0 759 1 758 85 60 0;
#X restore 180 372 pd grainresizing;
#X obj 11 135 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 11 25 inlet;
#X obj 56 25 r counter;
#X obj 11 53 spigot;
#X obj 11 107 spigot;
#X obj 11 81 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 206 51 toggleradio;
#X obj 999 21 r counter_size;
#X obj 206 19 r counter;
#X obj 11 158 s play;
#X obj 101 51 tgl 25 0 empty empty tracker 0 35 0 10 -204786 -1 -1
0 1;
#X obj 205 124 cnv 1 200 140 empty empty empty 20 12 0 14 -204800 -66577
0;
#X obj 411 124 cnv 15 200 140 empty empty empty 20 12 0 14 -203904
-66577 0;
#X obj 278 124 cnv 1 1 140 empty sample_start_line empty 20 12 0 14
-260097 -66577 0;
#X obj 212 124 cnv 1 1 140 empty sample_end_line empty 20 12 0 14 -258113
-66577 0;
#X floatatom 486 508 15 0 0 0 - - -;
#X obj 203 505 r samplesize;
#X floatatom 203 532 10 0 0 0 - - -;
#N canvas 521 397 934 534 sliderlines 0;
#X obj 292 74 t b f;
#X obj 252 129 pack 0 0 0;
#X obj 252 58 t b f;
#X obj 252 101 f \$0;
#X floatatom 344 44 5 0 0 0 - - -;
#X floatatom 252 37 5 0 0 0 - - -;
#X msg 252 157 \; sample_start_line pos \$2 \$3;
#X obj 252 -49 loadbang;
#X obj 252 1 206;
#X obj 284 4 124;
#X obj 84 0 r startSample;
#X obj 84 43 /;
#X floatatom 84 65 5 0 0 0 - - -;
#X obj 99 23 r samplesize;
#X obj 179 80 -;
#X obj 179 51 403;
#X floatatom 179 120 5 0 0 0 - - -;
#X obj 230 -46 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 84 86 *;
#X floatatom 84 109 5 0 0 0 - - -;
#X obj 179 169 +;
#X text 238 241 sample sliders min 206 \, 124;
#X text 238 256 sample sliders max 403 \, 124;
#X obj 714 118 t b f;
#X obj 674 173 pack 0 0 0;
#X obj 674 102 t b f;
#X obj 674 145 f \$0;
#X floatatom 766 88 5 0 0 0 - - -;
#X floatatom 674 81 5 0 0 0 - - -;
#X obj 674 -5 loadbang;
#X obj 766 54 124;
#X obj 506 90 /;
#X floatatom 506 112 5 0 0 0 - - -;
#X obj 521 70 r samplesize;
#X obj 652 -2 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 674 45 403;
#X msg 674 201 \; sample_end_line pos \$2 \$3;
#X obj 506 47 r endSample;
#X obj 802 160 print;
#X text 608 265 sample sliders min 206 \, 124;
#X text 608 280 sample sliders max 403 \, 124;
#X obj 548 191 *;
#X floatatom 553 223 5 0 0 0 - - -;
#X obj 609 106 - 206;
#X floatatom 602 143 5 0 0 0 - - -;
#X floatatom 549 281 5 0 0 0 - - -;
#X obj 539 253 + 206;
#X connect 0 0 3 0;
#X connect 0 1 1 2;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 2 1 1 1;
#X connect 3 0 1 0;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 7 0 15 0;
#X connect 8 0 5 0;
#X connect 8 0 14 1;
#X connect 8 0 20 1;
#X connect 9 0 4 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 18 0;
#X connect 13 0 11 1;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 16 0 18 1;
#X connect 17 0 8 0;
#X connect 17 0 15 0;
#X connect 17 0 9 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 5 0;
#X connect 23 0 26 0;
#X connect 23 1 24 2;
#X connect 24 0 36 0;
#X connect 24 0 38 0;
#X connect 25 0 26 0;
#X connect 25 1 24 1;
#X connect 26 0 24 0;
#X connect 27 0 23 0;
#X connect 28 0 25 0;
#X connect 28 0 43 0;
#X connect 29 0 30 0;
#X connect 29 0 35 0;
#X connect 30 0 27 0;
#X connect 31 0 32 0;
#X connect 32 0 41 0;
#X connect 33 0 31 1;
#X connect 34 0 35 0;
#X connect 34 0 30 0;
#X connect 35 0 28 0;
#X connect 37 0 31 0;
#X connect 41 0 42 0;
#X connect 42 0 46 0;
#X connect 43 0 44 0;
#X connect 44 0 41 1;
#X connect 45 0 25 0;
#X connect 46 0 45 0;
#X restore 291 372 pd sliderlines;
#N canvas 0 22 581 372 (subpatch) 0;
#X array sample 82995 float 2;
#X coords 0 1 82995 -1 200 140 2 0 0;
#X restore 205 124 graph;
#N canvas 0 23 450 278 (subpatch) 0;
#X array grain 35547 float 2;
#X coords 0 1 35547 -1 200 140 1 0 0;
#X restore 411 124 graph;
#X obj 101 171 bng 25 250 50 0 playSample empty playonce 0 35 0 10
-204800 -1 -1;
#X floatatom 616 275 15 0 0 0 - - -;
#X obj 634 387 int;
#X obj 634 366 r duration;
#X text 712 276 ms;
#X obj 101 217 bng 25 250 50 0 play empty playonce 0 35 0 10 -203904
-1 -1;
#X obj 622 124 bng 25 250 50 0 empty empty rec 0 30 0 10 -258113 -1
-1;
#X obj 849 487 soundfiler;
#X obj 849 431 openpanel;
#X floatatom 849 511 15 0 0 0 - - -;
#X msg 849 459 read -resize \$1 sample;
#X obj 658 124 bng 25 250 50 0 empty empty open 0 30 0 10 -4034 -99865
-99865;
#X connect 0 0 20 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 6 0 5 0;
#X connect 9 0 17 0;
#X connect 10 0 9 0;
#X connect 12 0 14 0;
#X connect 13 0 14 1;
#X connect 13 0 16 0;
#X connect 14 0 15 0;
#X connect 15 0 11 0;
#X connect 15 0 37 0;
#X connect 16 0 14 0;
#X connect 17 0 18 0;
#X connect 22 0 31 0;
#X connect 23 0 25 0;
#X connect 24 0 25 0;
#X connect 25 0 27 0;
#X connect 26 0 22 0;
#X connect 27 0 26 0;
#X connect 28 0 26 1;
#X connect 29 0 28 1;
#X connect 30 0 28 0;
#X connect 32 0 25 1;
#X connect 38 0 39 0;
#X connect 45 0 44 0;
#X connect 46 0 45 0;
#X connect 50 0 52 0;
#X connect 51 0 53 0;
#X connect 53 0 50 0;
#X connect 54 0 51 0;
#X coords 0 -1 1 1 930 300 2 100 50;
